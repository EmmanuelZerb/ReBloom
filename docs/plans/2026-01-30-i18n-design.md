# Internationalisation ReBloom - Design

## Aperçu
Détection automatique de langue basée sur l'IP (Vercel Geolocation) avec 12 langues européennes.

## Langues supportées
- Anglais (en) - défaut
- Français (fr), Allemand (de), Espagnol (es), Italien (it), Portugais (pt)
- Néerlandais (nl), Polonais (pl), Suédois (sv), Danois (da), Norvégien (no), Finnois (fi)

## Stack technique
- **Librairie** : next-intl
- **Détection** : Vercel Geolocation (header `x-vercel-ip-country`)
- **Stockage préférence** : Cookie `locale` (1 an)
- **URLs** : Sous-chemin sans préfixe pour anglais (`/`, `/fr/`, `/de/`...)

## Flux de détection
```
Utilisateur arrive → Middleware Next.js
    ↓
Cookie "locale" existe ?
    → Oui : Utiliser cette langue
    → Non : Lire header x-vercel-ip-country
            → Mapper pays → langue
            → Rediriger + sauvegarder cookie
```

## Mapping pays → langue
| Pays | Langue |
|------|--------|
| FR, BE, CH, CA, LU, MC | fr |
| DE, AT, LI | de |
| ES, AR, MX, CO | es |
| IT, SM, VA | it |
| PT, BR | pt |
| NL | nl |
| PL | pl |
| SE | sv |
| DK | da |
| NO | no |
| FI | fi |
| Autres | en |

## Structure des fichiers
```
apps/web/
├── messages/
│   ├── en.json, fr.json, de.json...
├── src/
│   ├── i18n/
│   │   ├── config.ts
│   │   ├── request.ts
│   │   └── navigation.ts
│   ├── components/
│   │   └── LanguageSwitcher.tsx
│   └── app/
│       └── [locale]/
│           ├── layout.tsx
│           ├── page.tsx
│           └── auth/...
```

## Composants à modifier
- page.tsx (landing)
- LoginForm.tsx, SignupForm.tsx, UserMenu.tsx
- DropZone.tsx, ProcessingStatus.tsx
- ErrorBoundary.tsx, ResultActions.tsx
